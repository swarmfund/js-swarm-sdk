<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Account.html">Account</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#getBalances">getBalances</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#getDetails">getDetails</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#getReferrals">getReferrals</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#getSigner">getSigner</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#getSigners">getSigners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Account.html#getSummary">getSummary</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ApiError.html">ApiError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ApiResponse.html">ApiResponse</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ApiServer.html">ApiServer</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="BadRequestError.html">BadRequestError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Balances.html">Balances</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Balances.html#getAccount">getAccount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Balances.html#getAsset">getAsset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Balances.html#getPage">getPage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Blobs.html">Blobs</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Blobs.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Blobs.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Blobs.html#getAll">getAll</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CallBuilder.html">CallBuilder</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#appendAccountId">appendAccountId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#appendUrlSegment">appendUrlSegment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#patch">patch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#post">post</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#put">put</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#withSignature">withSignature</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CallBuilder.html#withTimeout">withTimeout</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CallBuilder_CallBuilder.html">CallBuilder</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ConflictError.html">ConflictError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Documents.html">Documents</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Documents.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Documents.html#get">get</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Factors.html">Factors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Factors.html#changePriority">changePriority</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Factors.html#createTotpFactor">createTotpFactor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Factors.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Factors.html#getAll">getAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Factors.html#verifyPasswordFactorAndRetry">verifyPasswordFactorAndRetry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Factors.html#verifyTotpFactorAndRetry">verifyTotpFactorAndRetry</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ForbiddenRequestError.html">ForbiddenRequestError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="HorizonError.html">HorizonError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="HorizonResponse.html">HorizonResponse</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="HorizonServer.html">HorizonServer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="HorizonServer.html#getNetworkDetails">getNetworkDetails</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="InternalServerError.html">InternalServerError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Keypair_Keypair.html">Keypair</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="KycEntities.html">KycEntities</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KycEntities.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KycEntities.html#getAll">getAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KycEntities.html#update">update</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Memo.html">Memo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Memo.html#.hash">hash</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Memo.html#.id">id</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Memo.html#.none">none</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Memo.html#.returnHash">returnHash</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Memo.html#.text">text</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Network_Network.html">Network</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NetworkError.html">NetworkError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NotAllowedError.html">NotAllowedError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="NotFoundError.html">NotFoundError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ResourceGroupBase.html">ResourceGroupBase</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ResponseBase.html">ResponseBase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ResponseBase.html#toJSON">toJSON</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ServerBase.html">ServerBase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServerBase.html#ejectRequestInterceptor">ejectRequestInterceptor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServerBase.html#ejectResponseInterceptor">ejectResponseInterceptor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServerBase.html#useRequestInterceptor">useRequestInterceptor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServerBase.html#useResponseInterceptor">useResponseInterceptor</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ServerBase_ServerBase.html">ServerBase</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ServerErrorBase.html">ServerErrorBase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ServerErrorBase.html#retryRequest">retryRequest</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Swarm.html">Swarm</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Swarm.html#ejectWallet">ejectWallet</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Swarm.html#useWallet">useWallet</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Swarm.create.html">create</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TFARequiredError.html">TFARequiredError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TimeoutError.html">TimeoutError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Transaction_Transaction.html">Transaction</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="TransactionBuilder_TransactionBuilder.html">TransactionBuilder</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Transactions.html">Transactions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Transactions.html#submit">submit</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="UnauthorizedError.html">UnauthorizedError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Users.html">Users</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Users.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Users.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Users.html#getPage">getPage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="VerificationRequiredError.html">VerificationRequiredError</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Wallet.html">Wallet</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallet.html#.deriveId">deriveId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallet.html#.fromEncrypted">fromEncrypted</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallet.html#.fromRecoverySeed">fromRecoverySeed</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallet.html#.generate">generate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallet.html#encrypt">encrypt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallet.html#encryptRecoveryData">encryptRecoveryData</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Wallets.html">Wallets</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#changePassword">changePassword</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#getKdfParams">getKdfParams</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#recovery">recovery</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#resendEmail">resendEmail</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Wallets.html#verifyEmail">verifyEmail</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#FastSigning">FastSigning</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Networks">Networks</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1 id="swarm-javascript-sdk">Swarm JavaScript SDK</h1>
<p>The Swarm JavaScript SDK facilitates client integration with the Swarm asset tokenizaton platform.</p>
<h2 id="table-of-content">Table of content</h2>
<ol>
<li><p><a href="#platform-overview">Platform Overview</a></p>
</li>
<li><p><a href="#javascript-sdk">Javascript SDK</a></p>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#swarm-sdk">Swarm SDK</a></li>
<li><a href="#wallets">Wallets</a></li>
<li><a href="#api-server">API Server</a></li>
<li><a href="#horizon-server">Horizon Server</a></li>
<li><a href="#two-factor-auth">Two Factor Auth</a></li>
<li><a href="#transactions">Transactions</a></li>
</ul>
</li>
<li><p><a href="#development-guide">Development Guide</a></p>
</li>
<li><p><a href="#troubleshooting">Troubleshooting</a></p>
</li>
</ol>
<h2 id="platform-overview">Platform Overview</h2>
<p>There two ways to interact with Swarm platform:</p>
<ul>
<li>By calling REST services(API)</li>
<li>By building, signing and submitting blockchain transactions</li>
</ul>
<p>Every user has a <a href="./Keypair.html">keypair</a> that is used to authorize requests and sign the blockchain transactions. The keypair public key is used to identify user within the system.</p>
<h2 id="javascript-sdk">JavaScript SDK</h2>
<h3 id="installation">Installation</h3>
<pre class="prettyprint source lang-bash"><code>npm install -S swarm-sdk</code></pre><h4 id="webpack">Webpack</h4>
<p>If you use webpack as your build system you'll need to exclude the optional native module <code>ed25519</code></p>
<pre class="prettyprint source lang-js"><code>  plugins: [
    new webpack.IgnorePlugin(/ed25519/)
  ]</code></pre><p>You can also checkout package's <a href="../webpack.config.js">webpack config</a>.</p>
<h4 id="prebuilt-minified-scripts">Prebuilt Minified Scripts</h4>
<p>The package also ships prebuilt minified scripts for browsers in the <code>/dist</code> folder.</p>
<pre class="prettyprint source lang-html"><code>&lt;script type=&quot;text/javascript&quot; src=&quot;https://&lt;sdk-dist-url>&quot;>&lt;/script>
&lt;script type=&quot;text/javascript&quot;>
  (async () => {
    let sdk = await Sdk.Swarm.create('https://&lt;swarm-backend-url>')
    // ...
  })()
&lt;/script></code></pre><h2 id="swarm-sdk">Swarm SDK</h2>
<p>To get started create a Swarm SDK instance:</p>
<pre class="prettyprint source lang-js"><code>import { Swarm } from 'swarm-sdk'

let sdk = await Swarm.create('https://&lt;swarm-backend-url>')</code></pre><p>You can configure different environment setting such as proxy configuration via <a href="./Swarm.create.html">options</a>.</p>
<h2 id="response-format">Response Format</h2>
<p>All HTTP responses share the following format:</p>
<pre class="prettyprint source lang-js"><code>{
  httpStatus: 200,

  // Flattened and camel-cased response data
  data: [
    {
      balanceId: 'BCTZM23JQ4RT5L643R2SUPM3VSR3AISVXWX56KNYJVZB2L4TNNDEFXDG',
      accountId: 'GD3EIROYAVQUVDCSZDYVTOQSK7LGWPNXVIIQ7W7D5A7UFEJVLVH22GNY',
      asset: 'ETH'
    },
    {
      balanceId: 'BBRL3IVE7QD4YGEWKVQRF5YVOK37PXNZZGR7ILZOYQ5SMZVRLFGOMISX',
      accountId: 'GCBUB6JILEXAFGE6VIGJMPQUQHFCM5N6JSREA65P23SG2YLEVLIOAJNU',
      asset: 'ETH'
    }
  ],

  // Response headers
  headers: {...},

  // Parsed links and relations
  fetchNext: () => {...},
  fetchPrev: () => {...},
  fetchAccount: () => {...}
}</code></pre><p>The links and relations that are returned with the responses are converted into functions you can call on the returned object.
For example you can use them for simple pagination through collections:</p>
<pre class="prettyprint source lang-js"><code>let page = await sdk.horizon.balances.getPage()
console.log('Page', page.data)

let prevPage = await page.fetchPrev()
console.log('Previous page', prevPage.data)</code></pre><h2 id="errors">Errors</h2>
<h3 id="common-errors">Common errors</h3>
<ul>
<li><a href="./NetworkError.html">NetworkError</a></li>
<li><a href="./TimeoutError.html">TimeoutError</a></li>
</ul>
<h3 id="wrappers-for-error-responses">Wrappers for error responses</h3>
<p>All the error responses subclass <a href="./ServerErrorBase.html">ServerErrorBase</a> and share the following format:</p>
<pre class="prettyprint source lang-js"><code>{
  httpStatus: 403,
  // Human readable title
  title: 'Forbidden',
  // Detailed explanation
  detail: 'Additional factor required.',
  // Additional relevant data
  meta: {
    factorId: 275,
    factorType: 'password',
    ...
  },
  // Raw unparsed error
  originalError: {...},
  // Retry request. Handy for 2FA handling
  retryRequest: () => {...}
}</code></pre><h3 id="interceptors">Interceptors</h3>
<p>SDK allows you to use <a href="https://github.com/axios/axios#interceptors">request and response interceptors</a>:</p>
<pre class="prettyprint source lang-js"><code>sdk.api.useRequestInterceptors(
  request => {
    // Track user's actions, transform request data, etc
  },
  err => {
    // Log, handle errors, retry requests, etc
  }
)

sdk.api.useResponseInterceptor(
  config => {
    // Parse and transform response data, show notifications, etc
  },
  err => {
    // Track errors, try to retry requests, show 2FA prompts, etc
  }
)</code></pre><h2 id="wallets">Wallets</h2>
<p>Wallets hold user's keypair and account ID that are used to identify user, authorize access to the backend services and sign the blockhain transactions.</p>
<h3 id="create-a-wallet">Create a wallet</h3>
<pre class="prettyprint source lang-js"><code>let { wallet, recoverySeed } = await sdk.api.wallets.create(
  'my@email.com',
  'MyPassw0rd'
)

// Get the confirmation token from email
await sdk.api.wallets.verifyEmail(token)</code></pre><h3 id="retrieve-and-use-the-wallet-to-sign-requests">Retrieve and use the wallet to sign requests</h3>
<pre class="prettyprint source lang-js"><code>let wallet = await sdk.api.wallets.get('my@email.com', 'MyPassw0rd')
sdk.useWallet(wallet)</code></pre><h3 id="change-password">Change password</h3>
<pre class="prettyprint source lang-js"><code>let updateWallet = await sdk.api.wallets.changePassword('MyNewPassw0rd')
sdk.useWallet(updatedWallet)</code></pre><h3 id="recover-the-password">Recover the password</h3>
<pre class="prettyprint source lang-js"><code>let recoveredWallet = await sdk.api.wallets.recovery(
  'my@email.com',
  recoverySeed,
  'MyNewPassw0rd'
)</code></pre><h2 id="api-server">API Server</h2>
<p><a href="#api">API server</a> is responsible for multiple activities:</p>
<ul>
<li>Stores <a href="#wallets">wallets</a> that hold encrypted keypairs</li>
<li>Handles 2 factor auth</li>
<li>Stores private off-chain data, such as KYC data and documents</li>
</ul>
<h3 id="resources">Resources</h3>
<ul>
<li><a href="./Wallets.html">Wallets</a></li>
<li><a href="./Factors.html">Factors</a></li>
<li><a href="./Users.html">Users</a></li>
<li><a href="./Documents.html">Documents</a></li>
<li><a href="./KycEntites.html">Kyc entities</a></li>
<li><a href="./Blobs.html">Blobs</a></li>
</ul>
<h3 id="errors">Errors</h3>
<ul>
<li><a href="./ApiError.html">ApiError</a> - base class for API errors</li>
<li><a href="./BadRequestError.html">BadRequestError</a></li>
<li><a href="./NotAllowedError.html">NotAllowedError</a></li>
<li><a href="./ForbiddenRequestError.html">ForbiddenRequestError</a></li>
<li><a href="./TFARequiredError.html">TFARequiredError</a></li>
<li><a href="./VerificationRequiredError.html">VerificationRequiredError</a></li>
<li><a href="./NotFoundError.html">NotFoundError</a></li>
<li><a href="./ConflictError.html">ConflictError</a></li>
<li><a href="./InternalServerError.html">InternalServerError</a></li>
</ul>
<h2 id="horizon-server">Horizon Server</h2>
<p><a href="#horizon">Horizon server</a> is the interface for interaction with the Swarm blockchain. It allows to submit transactions and query on-chain data.</p>
<h3 id="resources">Resources</h3>
<ul>
<li><a href="./Account.html">Account</a></li>
<li><a href="./Balances.html">Balances</a></li>
<li><a href="./Signers.html">Signers</a></li>
<li><a href="./Transactions.html">Transactions</a></li>
</ul>
<h3 id="errors">Errors</h3>
<ul>
<li><a href="./HorizonError.html">HorizonError</a> - base class for Horizon errors</li>
<li><a href="./BadRequestError.html">BadRequestError</a></li>
<li><a href="./UnauthorizedError.html">UnauthorizedError</a></li>
<li><a href="./TFARequiredError.html">TFARequiredError</a></li>
<li><a href="./NotFoundError.html">NotFoundError</a></li>
<li><a href="./InternalServerError.html">InternalServerError</a></li>
</ul>
<h2 id="two-factor-auth">Two Factor Auth</h2>
<p>Some actions may require 2FA. Following snipet allows utilizes <a href="#interceptors">interceptors</a> to handle and retry failed requests:</p>
<pre class="prettyprint source lang-js"><code>import { errors } from 'swarm-sdk'

sdk.api.useResponseInterceptor(
  config => config,
  err => {
    if (err instanceof errors.api.TFARequiredError) {
      // Handle 2FA
      if (err.meta.factorType === 'password') {
        // Show password promt to user...
        return sdk.api.factors.verifyPasswordFactorAndRetry(err, password)
      } else {
        // Shot TOTP prompt to user...
        return sdk.api.factors.verifyTotpFactorAndRetry(err, otp)
      }
    } else {
      return Promise.reject(err)
    }
  }
)</code></pre><h2 id="transactions">Transactions</h2>
<p>Blockhain transactions must have:</p>
<ul>
<li>Source - user's account ID</li>
<li>One or more <a href="./Operations.html">operations</a></li>
<li>User's signature</li>
</ul>
<h3 id="building-and-signing">Building and signing</h3>
<pre class="prettyprint source lang-js"><code>import { base } from 'swarm-sdk'

let tx = new base.TransactionBuilder(sdk.wallet.accountId)
  .addOperation(base.Operation.payment(paymentParamsObject))
  .build();

tx.sign(sdk.wallet.keypair);</code></pre><h3 id="submitting">Submitting</h3>
<pre class="prettyprint source lang-js"><code>let response = await sdk.horizon.transactions.submit(tx)</code></pre><h3 id="handling-xdr-encoded-fields-in-responses">Handling XDR encoded fields in responses</h3>
<p>The transaction endpoints will return some fields in raw <code>XDR</code>
form. You can convert this XDR to JSON using the <code>.fromXDR()</code> method.</p>
<p>An example of re-writing the txHandler from above to print the XDR fields as JSON:</p>
<pre class="prettyprint source lang-js"><code>import { base } from 'swarm-sdk'

let envelope = response.data.envelopeXdr
console.log(base.xdr.TransactionEnvelope.fromXDR(envelope, 'base64'))

let result = response.data.resultXdr
console.log(base.xdr.TransactionResult.fromXDR(result, 'base64'))

let resultMeta = response.data.resultMetaXdr
console.log(base.xdr.TransactionMeta.fromXDR(resultMeta, 'base64'))</code></pre><h2 id="development-guide">Development Guide</h2>
<h3 id="transpiling">Transpiling</h3>
<p>As for now some handy ES7 features need transpiler in both node.js and browser environments so the <a href="https://babeljs.io/">babel transpiler</a> is used.</p>
<p>Build for node.js:</p>
<pre class="prettyprint source"><code>npm run build</code></pre><p>Build for browsers:</p>
<pre class="prettyprint source"><code>npm run build:browser</code></pre><h3 id="coding-style">Coding Style</h3>
<p>SDK follows <a href="https://standardjs.com/">JavaScript Standard Style</a>.</p>
<p>All public classes and functions must have JSDoc annotations.</p>
<p>Run linter to check for style violations:</p>
<pre class="prettyprint source"><code>npm run lint</code></pre><h3 id="testing">Testing</h3>
<p>Node.js tests:</p>
<pre class="prettyprint source"><code>npm test</code></pre><p>Browser tests:</p>
<pre class="prettyprint source"><code>npm tests:browser</code></pre><p>Test coverage:</p>
<pre class="prettyprint source"><code>npm run coverage</code></pre><h3 id="building-xdr-files">Building XDR Files</h3>
<p>SDK repos includes <code>xdr</code> git submodule which contains raw <code>.x</code> XDR files.</p>
<p>To update the JS wrappers:</p>
<ol>
<li>Checkout the <code>xdr</code> submodule to desired commit</li>
<li>Install Ruby v 2.5.0 if needed</li>
<li>Install <code>rake</code> and <code>bundler</code>:<pre class="prettyprint source"><code> gem install rake bundler</code></pre></li>
<li>Install <code>xdrgen</code> dependencies<pre class="prettyprint source"><code> bundle</code></pre></li>
<li>Build the XDR wrappers:<pre class="prettyprint source"><code> rake xdr:update</code></pre></li>
</ol>
<h3 id="generating-docs">Generating Docs</h3>
<pre class="prettyprint source"><code>npm run docs</code></pre><h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="problem-with-installation-on-windows">Problem With Installation on Windows</h3>
<p>When installing js-sdk on windows, you might see an error that looks similar to the following:</p>
<pre class="prettyprint source lang-shell"><code>error MSB8020: The build tools for v120 (Platform Toolset = 'v120 ') cannot be found. To build using the v120 build tools, please install v120 build tools.  Alternatively, you may upgrade to the current Visual Studio tools by selecting the Project menu or right-click the solution, and then selecting &quot;Retarget solution&quot;</code></pre><p>To resolve this issue, you should upgrade your version of nodejs, node-gyp and then re-attempt to install the offending package using <code>npm install -g --msvs_version=2015 ed25519</code>.  Afterwards, retry installing stellar-sdk as normal.</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jun 18 2018 18:34:02 GMT+0300 (FLE Daylight Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>